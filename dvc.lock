schema: '2.0'
stages:
  extract-data:
    cmd: tar -xf dataset/cifar-10-python.tar.gz --exclude='readme.html' --directory
      dataset/
    deps:
    - path: dataset/cifar-10-python.tar.gz
      md5: c58f30108f718f92721af3b95e74349a
      size: 170498071
    outs:
    - path: dataset/cifar-10-batches-py
      md5: b4947b13f75e53d7d1661505c7b936f7.dir
      size: 186214026
      nfiles: 7
  convert-notebook:
    cmd: pdm run convert-notebook
    deps:
    - path: train.ipynb
      md5: 0331dfe6c2392cf82dde60032803888b
      size: 16656
    outs:
    - path: train.py
      md5: e46a99bb8641ad7bee3b7ece4a7a0380
      size: 12022
  generate-hash:
    cmd: pdm run python hash_params.py
    deps:
    - path: hash_params.py
      md5: 03ea641f720572238dc534d91e5eb9b4
      size: 183
    params:
      params.yaml:
        epochs: 1
        seed: 123456
    outs:
    - path: params.yaml.sha
      md5: 2ec34e3d5def4fcba8773e6f45a36b34
      size: 72
  train:
    cmd: pdm run train
    deps:
    - path: dataset/cifar-10-batches-py
      md5: b4947b13f75e53d7d1661505c7b936f7.dir
      size: 186214026
      nfiles: 7
    - path: train.py
      md5: e46a99bb8641ad7bee3b7ece4a7a0380
      size: 12022
    params:
      params.yaml:
        epochs: 1
        seed: 123456
    outs:
    - path: experiment/
      md5: 6d9fa1dc0aab2e30eb009edab8fe18db.dir
      size: 875482938
      nfiles: 2
    - path: scores.json
      md5: a82a07b344e2826a2f9de1cb05c3ddd0
      size: 206
